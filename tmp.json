{"openapi":"3.0.1","info":{"title":"iCafe API","description":"iCafe REST API documentation by SyncCafe.","license":{"name":"Apache 2.0","url":"https://springdoc.org"},"version":"v1.0.0"},"externalDocs":{"description":"tf APP MOVIL","url":"https://github.com/1ACC0238-2520-1807/backend-icafe"},"servers":[{"url":"http://localhost:8383","description":"LOCAL"},{"url":"http://upc-icafebackend-3sger0-aa823d-31-97-13-234.traefik.me/","description":"PRODUCTION"}],"security":[{"bearerAuth":[]}],"tags":[{"name":"Authentication","description":"Authentication Endpoints"},{"name":"Contact-Portfolio","description":"Contact Portfolio Management Endpoints"},{"name":"Inventory","description":"Inventory Management Endpoints"},{"name":"Roles","description":"Role Management Endpoints"},{"name":"Stock Movements","description":"Stock Movement Management Endpoints"},{"name":"Products","description":"Product management operations"},{"name":"Users","description":"User Management Endpoints"},{"name":"Provider-Contact","description":"Provider Contact Management Endpoints"}],"paths":{"/api/v1/products/{productId}":{"get":{"tags":["Products"],"summary":"Get product by ID","description":"Retrieves a product by its unique identifier","operationId":"getProductById","parameters":[{"name":"productId","in":"path","description":"Product ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Product found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductResource"}}}},"404":{"description":"Product not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductResource"}}}}}},"put":{"tags":["Products"],"summary":"Update product","description":"Updates an existing product with the provided information","operationId":"updateProduct","parameters":[{"name":"productId","in":"path","description":"Product ID","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProductResource"}}},"required":true},"responses":{"200":{"description":"Product updated successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductResource"}}}},"404":{"description":"Product not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductResource"}}}},"400":{"description":"Invalid input data","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductResource"}}}}}},"delete":{"tags":["Products"],"summary":"Delete product","description":"Permanently deletes a product","operationId":"deleteProduct","parameters":[{"name":"productId","in":"path","description":"Product ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Product deleted successfully"},"404":{"description":"Product not found"}}}},"/api/v1/inventory/items/{id}":{"get":{"tags":["Inventory"],"operationId":"getSupplyItemById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SupplyItemResource"}}}}}},"put":{"tags":["Inventory"],"operationId":"updateSupplyItem","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateSupplyItemResource"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SupplyItemResource"}}}}}},"delete":{"tags":["Inventory"],"operationId":"deleteSupplyItem","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/v1/contact-portfolios/{portfolioId}/providers/{providerId}":{"get":{"tags":["Contact-Portfolio"],"operationId":"getProviderById","parameters":[{"name":"portfolioId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"providerId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProviderContactResource"}}}}}},"put":{"tags":["Contact-Portfolio"],"operationId":"updateProviderInPortfolio","parameters":[{"name":"portfolioId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"providerId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProviderContactResource"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProviderContactResource"}}}}}},"delete":{"tags":["Contact-Portfolio"],"operationId":"deleteProviderFromPortfolio","parameters":[{"name":"portfolioId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"providerId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/v1/contact-portfolios/{portfolioId}/employees/{employeeId}":{"get":{"tags":["Contact-Portfolio"],"operationId":"getEmployeeById","parameters":[{"name":"portfolioId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"employeeId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmployeeContactResource"}}}}}},"put":{"tags":["Contact-Portfolio"],"operationId":"updateEmployeeInPortfolio","parameters":[{"name":"portfolioId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"employeeId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateEmployeeContactResource"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmployeeContactResource"}}}}}},"delete":{"tags":["Contact-Portfolio"],"operationId":"deleteEmployeeFromPortfolio","parameters":[{"name":"portfolioId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"employeeId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/v1/providercontacts":{"get":{"tags":["Provider-Contact"],"operationId":"getAllProviderContacts","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProviderContactResource"}}}}}}},"post":{"tags":["Provider-Contact"],"operationId":"createProviderContact","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateProviderContactResource"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProviderContactResource"}}}}}}},"/api/v1/products":{"get":{"tags":["Products"],"summary":"Get all products","description":"Retrieves all products for a specific owner and branch","operationId":"getAllProducts","parameters":[{"name":"ownerId","in":"query","description":"Owner ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"branchId","in":"query","description":"Branch ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Products retrieved successfully","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductResource"}}}}}}},"post":{"tags":["Products"],"summary":"Create a new product","description":"Creates a new product with the provided information","operationId":"createProduct","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateProductResource"}}},"required":true},"responses":{"409":{"description":"Product with same name already exists","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductResource"}}}},"400":{"description":"Invalid input data","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductResource"}}}},"201":{"description":"Product created successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductResource"}}}}}}},"/api/v1/inventory/movements":{"get":{"tags":["Stock Movements"],"operationId":"getAllMovements","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/InventoryTransactionResource"}}}}}}},"post":{"tags":["Stock Movements"],"operationId":"registerMovement","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateInventoryTransactionResource"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InventoryTransactionResource"}}}}}}},"/api/v1/inventory/items":{"get":{"tags":["Inventory"],"operationId":"getAllSupplyItems","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SupplyItemResource"}}}}}}},"post":{"tags":["Inventory"],"operationId":"createSupplyItem","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateSupplyItemResource"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SupplyItemResource"}}}}}}},"/api/v1/contact-portfolios/{portfolioId}/providers":{"get":{"tags":["Contact-Portfolio"],"operationId":"getProvidersByPortfolio","parameters":[{"name":"portfolioId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProviderContactResource"}}}}}}},"post":{"tags":["Contact-Portfolio"],"operationId":"addProviderToPortfolio","parameters":[{"name":"portfolioId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateProviderContactResource"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProviderContactResource"}}}}}}},"/api/v1/contact-portfolios/{portfolioId}/employees":{"get":{"tags":["Contact-Portfolio"],"operationId":"getEmployeesByPortfolio","parameters":[{"name":"portfolioId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EmployeeContactResource"}}}}}}},"post":{"tags":["Contact-Portfolio"],"operationId":"addEmployeeToPortfolio","parameters":[{"name":"portfolioId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateEmployeeContactResource"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmployeeContactResource"}}}}}}},"/api/v1/authentication/sign-up":{"post":{"tags":["Authentication"],"operationId":"signUp","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignUpResource"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResource"}}}}}}},"/api/v1/authentication/sign-in":{"post":{"tags":["Authentication"],"operationId":"signIn","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignInResource"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthenticatedUserResource"}}}}}}},"/api/v1/products/{productId}/archive":{"patch":{"tags":["Products"],"summary":"Archive product","description":"Archives a product, making it inactive","operationId":"archiveProduct","parameters":[{"name":"productId","in":"path","description":"Product ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Product archived successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductResource"}}}},"404":{"description":"Product not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductResource"}}}}}}},"/api/v1/products/{productId}/activate":{"patch":{"tags":["Products"],"summary":"Activate product","description":"Activates an archived product","operationId":"activateProduct","parameters":[{"name":"productId","in":"path","description":"Product ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Product activated successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductResource"}}}},"404":{"description":"Product not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductResource"}}}}}}},"/api/v1/users":{"get":{"tags":["Users"],"operationId":"getAllUsers","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserResource"}}}}}}}},"/api/v1/users/{userId}":{"get":{"tags":["Users"],"operationId":"getUserById","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResource"}}}}}}},"/api/v1/inventory/movements/{id}":{"get":{"tags":["Stock Movements"],"operationId":"getMovementById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InventoryTransactionResource"}}}}}}},"/ap/v1/roles":{"get":{"tags":["Roles"],"operationId":"getAllRoles","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RoleResource"}}}}}}}}},"components":{"schemas":{"DirectItemSpecResource":{"required":["itemId","quantity"],"type":"object","properties":{"itemId":{"type":"integer","format":"int64"},"quantity":{"type":"number","format":"double"}}},"RecipeItemResource":{"required":["itemId","quantity"],"type":"object","properties":{"itemId":{"type":"integer","format":"int64"},"quantity":{"type":"number","format":"double"}}},"UpdateProductResource":{"type":"object","properties":{"name":{"maxLength":100,"minLength":0,"type":"string"},"category":{"maxLength":50,"minLength":0,"type":"string"},"portions":{"type":"integer","format":"int32"},"steps":{"maxLength":1000,"minLength":0,"type":"string"},"directItem":{"$ref":"#/components/schemas/DirectItemSpecResource"},"components":{"type":"array","items":{"$ref":"#/components/schemas/RecipeItemResource"}}}},"ProductResource":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"ownerId":{"type":"integer","format":"int64"},"branchId":{"type":"integer","format":"int64"},"name":{"type":"string"},"category":{"type":"string"},"type":{"type":"string","enum":["SIMPLE","COMPOSED"]},"status":{"type":"string","enum":["ACTIVE","ARCHIVED"]},"portions":{"type":"integer","format":"int32"},"steps":{"type":"string"},"directItem":{"$ref":"#/components/schemas/DirectItemSpecResource"},"components":{"type":"array","items":{"$ref":"#/components/schemas/RecipeItemResource"}},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"version":{"type":"integer","format":"int32"}}},"UpdateSupplyItemResource":{"type":"object","properties":{"nombre":{"type":"string"},"unidadMedida":{"type":"string","enum":["g","kg","l","ml","unidades"]},"puntoDeReorden":{"type":"number","format":"double"}}},"SupplyItemResource":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"nombre":{"type":"string"},"unidadMedida":{"type":"string","enum":["g","kg","l","ml","unidades"]},"cantidadActual":{"type":"number","format":"double"},"puntoDeReorden":{"type":"number","format":"double"},"requiereReabastecimiento":{"type":"boolean"},"supplyManagementId":{"type":"integer","format":"int64"}}},"UpdateProviderContactResource":{"type":"object","properties":{"nameCompany":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"},"ruc":{"type":"string"}}},"ProviderContactResource":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"nameCompany":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"},"ruc":{"type":"string"}}},"CreateEmployeeContactResource":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"},"role":{"type":"string"},"salary":{"type":"string"},"branchId":{"type":"integer","format":"int64"}}},"EmployeeContactResource":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"},"role":{"type":"string"},"salary":{"type":"string"},"branchId":{"type":"integer","format":"int64"}}},"CreateProviderContactResource":{"type":"object","properties":{"nameCompany":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"},"ruc":{"type":"string"}}},"CreateProductResource":{"required":["branchId","name","ownerId","portions","type"],"type":"object","properties":{"ownerId":{"type":"integer","format":"int64"},"branchId":{"type":"integer","format":"int64"},"name":{"maxLength":100,"minLength":0,"type":"string"},"category":{"maxLength":50,"minLength":0,"type":"string"},"type":{"type":"string","enum":["SIMPLE","COMPOSED"]},"portions":{"type":"integer","format":"int32"},"steps":{"maxLength":1000,"minLength":0,"type":"string"},"directItem":{"$ref":"#/components/schemas/DirectItemSpecResource"},"components":{"type":"array","items":{"$ref":"#/components/schemas/RecipeItemResource"}}}},"CreateInventoryTransactionResource":{"type":"object","properties":{"supplyItemId":{"type":"integer","format":"int64"},"tipoMovimiento":{"type":"string","enum":["ENTRADA","SALIDA","AJUSTE"]},"cantidad":{"type":"number","format":"double"},"unidadMedida":{"type":"string","enum":["g","kg","l","ml","unidades"]},"referencia":{"type":"string"}}},"InventoryTransactionResource":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"tipoMovimiento":{"type":"string","enum":["ENTRADA","SALIDA","AJUSTE"]},"cantidad":{"type":"number","format":"double"},"unidadMedida":{"type":"string","enum":["g","kg","l","ml","unidades"]},"fechaTransaccion":{"type":"string","format":"date-time"},"referencia":{"type":"string"},"supplyManagementId":{"type":"integer","format":"int64"}}},"CreateSupplyItemResource":{"type":"object","properties":{"nombre":{"type":"string"},"unidadMedida":{"type":"string","enum":["g","kg","l","ml","unidades"]},"cantidadInicial":{"type":"number","format":"double"},"puntoDeReorden":{"type":"number","format":"double"},"supplyManagementId":{"type":"integer","format":"int64"}}},"SignUpResource":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"},"roles":{"type":"array","items":{"type":"string"}}}},"UserResource":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"email":{"type":"string"},"roles":{"type":"array","items":{"type":"string"}}}},"SignInResource":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}},"AuthenticatedUserResource":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"email":{"type":"string"},"token":{"type":"string"}}},"RoleResource":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"}}}},"securitySchemes":{"bearerAuth":{"type":"http","name":"bearerAuth","scheme":"bearer","bearerFormat":"JWT"}}}}